<!DOCTYPE html>
<html>
<head>
  <title>File Browser</title>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    ul { list-style: none; padding: 0; }
    a { text-decoration: none; display: block; margin: 5px 0; }
  </style>
</head>
<body>
  <h2>Directory: <%= path || "/" %></h2>
  <% if (path) { %>
    <a href="/files?<%= 'path=' + encodeURIComponent(path.split('/').slice(0, -1).join('/')) %>">🔙 Go Back</a>
  <% } %>
  <ul>
    <% entries.forEach(entry => { %>
      <li>
        <% if (entry.isDir) { %>
          📁 <a href="/files?<%= 'path=' + entry.encodedPath %>"><%= entry.name %></a>
        <% } else { %>
          📄 <a href="/file?<%= 'path=' + entry.encodedPath %>"><%= entry.name %></a>
        <% } %>
      </li>
    <% }) %>
  </ul>
</body>
</html>
